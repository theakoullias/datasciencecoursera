for (i in id){
dat <- rbind(dat, read.csv(files_list[i]))
}
dat_subset <- dat[which(dat[,"id"]==id),]
mean(dat_subset[, "Pollutant"], na.rm = TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
dat_subset <- dat[which(dat[,"ID"]==id),]
dat_subset <- dat[which(dat[,"ID"]==id),]
dat_subset <- dat[which(dat[,"ID"]==id),]
dat_subset <- dat[which(dat[,"ID"]==id),]
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
colnames("specdata")
colnames(001.csv)
colnames("001.csv")
read.csv("001.csv")
head(read.csv("specdata/001.csv"))
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
files_list <- list.files(directory, full.names = TRUE
head(file_list)
head(files_list)
files_list <- list.files(directory, full.names = TRUE)
files_list <- list.files("specdata", full.names = TRUE)
head(files_list)
dat < data.frame()
dat <- data.fram()
dat <- data.frame()
head(dat)
for (i in 1:5){
dat <- rbind(dat, read.csv(files_list[i]))
}
dat
head(list_files)
head(files_list)
head(dat)
tail(dat)
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
tail(files_list)
tail(dat)
dat_332 <- dat[which(dat[, "ID"]==332),]
dat_332
max(dat_30)
max(dat_332)
max(dat_332$ID)
tail(dat)
source('~/datasciencecoursera/polmean.R')
tail(dat)
source('~/datasciencecoursera/polmean.R')
tail(dat)
tail(files_list)
source('~/datasciencecoursera/polmean.R')
tail(dat)
source('~/datasciencecoursera/polmean.R')
tail(dat)
dat2 <- data.frame()
dat_subset_332 <- dat2[which(dat2[,"ID"]==332),]
names(files_list)
names(files_list)
names("specdata")
head("specdata")
names("332.csv")
names("specdata/332.csv")
head(files_list)
names(files_list)
names("specdata/332.csv")
summary("specdata/332.csv")
dim("specdata/332.csv")
332 <- read.csv("specdata/332.csv")
csv_332 <- read.csv("specdata/332.csv")
names(csv_332)
test <- dat2[which(dat2[,"ID"]==id),]
test <- dat2[which(dat2[,"ID"]==332),]
csv_332[which(csv_332$ID == 332), "Sulfate"]
subset(csv_332$ID, csv_332$nitrate)
subset(csv_332$ID==332, csv_332$nitrate)
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
polmean("specdata", nitrate, 332)
polmean
polmean()
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
source('~/datasciencecoursera/polmean.R')
polmean <- function(directory, pollutant, x, y)
mean(dat_subset$nitrate, na.rm = TRUE)
polmean("specdata", "nitrate", 70, 72)
polmean("specdata", "nitrate", 23, 23)
polmean("specdata", "nitrate", 23, 23)
polmean2("specdata", "nitrate", 70, 72)
source('~/datasciencecoursera/polmean2.R')
source('~/datasciencecoursera/polmean2.R')
source('~/datasciencecoursera/polmean2.R')
polmean2("specdata", "nitrate", 70, 72)
polmean2()
polmean2()
?polmean
polmean("specdata", "nitrate", 70, 72)
polmean("specdata", "nitrate", 70, 72)
polmean("specdata", "nitrate", 70, 72)
source('~/datasciencecoursera/polmean.R')
print(meanie)
source('~/datasciencecoursera/polmean.R')
polmean("specdata", "nitrate", 70, 72)
polmean
polmean("specdata", "nitrate", 70, 72)
summary(files_full)
tmp <- vector(mode = "list", length = length(files_full))
summary(tmp)
files_full
str(lapply(files_full, read.csv))
source('~/datasciencecoursera/pollutantM.R')
pollutantM()
tmp <- vector(mode = "list", length = length(files_full))
for (i in seq_along(files_full)){
tmp[[i]] <- read.csv(files_full[[i]])
}
output <- do.call(rbind, tmp)
output
tail(output)
test1 <- subset(tmp, !is.na(nitrate), select=nitrate)
test1 <- subset(tmp, !is.na("nitrate"), select="nitrate")
apply(test1, 2, mean)
args(apply)
test1 <- subset(output, !is.na("nitrate"), select="nitrate")
apply(test1, 2, mean)
output[, "sulfate"[1:10]]
output[1:10, "sulfate"]
numeric()
args(numeric)
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
x <- pollutantmean("specdata", "sulfate", 1:10)
x
source('~/datasciencecoursera/pollutantmean.R')
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
source('~/datasciencecoursera/pollutantmean.R')
source('~/datasciencecoursera/complete.R')
complete("specdata", 1)
source('~/datasciencecoursera/complete.R')
complete("specdata", 1)
complete("specdata", 3)
args(sum)
source('~/datasciencecoursera/complete.R')
complete("specdata", 3)
source('~/datasciencecoursera/complete.R')
complete("specdata", 3)
complete("specdata", 1)
complete("specdata", 30"25")
complete("specdata", 30:25)
length(sumcases)
args(count.fields)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
complete("specdata", 1)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
tmp <- read.csv(files_read[i])
nobs <- sum(complete.cases(tmp))
dat[i,"nobs"] <- nobs
for (i in id){
tmp <- read.csv(files_read[i])
nobs <- sum(complete.cases(tmp))
dat[i,"nobs"] <- nobs
}
dat
complete <- function(directory, id = 1:332){
files_list <- list.files(directory, full.names = TRUE)
files_read <- files_list[id]
dat <- data.frame(id = id, nobs = 0)
for (i in id){
tmp <- read.csv(files_read[i])
nobs <- sum(complete.cases(tmp))
dat[i,"nobs"] <- nobs
}
dat
}
complete("specdata", 30:25)
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
complete <- function(directory, id = 1:332){
files_list <- list.files(directory, full.names = TRUE)
dat <- data.frame()
for (i in id){
dat <- read.csv(files_list[i])
c <- sum(complete.cases(dat))
dat[id,"nobs"] <- c
}
dat
}
complet("specdata", 30:25)
complete <- function(directory, id = 1:332){
files_list <- list.files(directory, full.names = TRUE)
dat <- data.frame()
for (i in id){
dat <- read.csv(files_list[i])
c <- sum(complete.cases(dat))
dat[id,"nobs"] <- c
}
dat
}
complete("specdata", 1)
complete("specdata", 1)
?complete.cases
complete("specdata", 1)
complete("specdata", 1)
complete("specdata", 1)
dat <- rbind(dat, tmp)
complete("specdata", 1)
complete("specdata", 1)
source('~/datasciencecoursera/complet.R')
complete("specdata", 1)
source('~/datasciencecoursera/complet.R')
source('~/datasciencecoursera/complet.R')
complete("specdata", 1)
complete("specdata", 30:25)
source('~/datasciencecoursera/complet.R')
complete("specdata", 30:25)
source('~/datasciencecoursera/complet.R')
complete("specdata", 30:25)
complete("specdata", 30:25)
source('~/datasciencecoursera/complete.R')
source('~/datasciencecoursera/complete.R')
complete("specdata", 30:25)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
cr <- corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
cr <- corr("specdata", 150)
dat
cr <- corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
dat
}
source('~/datasciencecoursera/corr.R')
if (c > threshold){
tmp <- files_read[which(!is.na(files_read$sulfate)), ]
subtmp <- files_read[which(!is.na(files_read$nitrate)), ]
dat <- c(dat, cor(subtmp$sulfate, subtmp$nitrate))
}
source('~/datasciencecoursera/corr.R')
cr <- corr("specdata", 150)
c <- sum((!is.na(files_read$sulfate)) & (!is.na(files_read$nitrate))
if (c > threshold){
tmp <- files_read[which(!is.na(files_read$sulfate)), ]
subtmp <- files_read[which(!is.na(files_read$nitrate)), ]
dat <- c(dat, cor(subtmp$sulfate, subtmp$nitrate))
}
}
dat
}
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
corr <- function(directory, threshold=0){
files_list <- list.files(directory, full.names = TRUE)
dat <- vector(mode = "numeric", length = 0)
for (i in 1:length(files_list)){
files_read <- read.csv(files_list[i])
c <- sum((!is.na(files_read$sulfate)) & (!is.na(files_read$nitrate))
if (c > threshold){
tmp <- files_read[which(!is.na(files_read$sulfate)), ]
subtmp <- files_read[which(!is.na(files_read$nitrate)), ]
dat <- c(dat, cor(subtmp$sulfate, subtmp$nitrate))
}
}
dat
}
corr("specdata", 150)
corr.R("specdata, 150")
corr()
?corr
args(corr)
source('~/datasciencecoursera/corr.R')
correlation("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
correlation <- function(directory, threshold=0){
files_list <- list.files(directory, full.names = TRUE)
dat <- vector(mode = "numeric", length = 0)
for (i in 1:length(files_list)){
files_read <- read.csv(files_list[i])
c <- sum((!is.na(files_read$sulfate)) & (!is.na(files_read$nitrate))
if (c > threshold){
tmp <- files_read[which(!is.na(files_read$sulfate)), ]
subtmp <- files_read[which(!is.na(files_read$nitrate)), ]
dat <- c(dat, cor(subtmp$sulfate, subtmp$nitrate))
else print("c < threshold")
}
}
dat
}
corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
corr("specdata", 150)
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
corr("specdata", 150)
abc <- corr("specdata", 150)
abc
classs(abc)
class(abc)
corr("specdata", 150)
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
source('~/datasciencecoursera/corr.R')
head(corr("specdata", 150))
head(corr("specdata", 400))
source('~/datasciencecoursera/corr.R')
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 70:72)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6,10,20,34,100,200,310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use,"nobs"])
args(set.seed)
?set.seed
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
?sort
args(sort)
cr <- sort(corr"specdata")
cr <- sort(corr("specdata"))
source('~/datasciencecoursera/corrn.R')
corrn("specdata", 150)
files_full <- list.files(directory, full.names = TRUE)
source('~/datasciencecoursera/corrn.R')
corrn("specdata", 150)
source('~/datasciencecoursera/corrn.R')
return (cor(data$nitrate, data$sulfate, use="complete.obs"))
if (nobs > threshold) {
return (cor(data$nitrate, data$sulfate, use="complete.obs"))
}
tcorr <- function(fname) {
data <- read.csv(file.path(directory, fname))
nobs <- sum(complete.cases(data))
if (nobs > threshold) {
return (cor(data$nitrate, data$sulfate, use="complete.obs"))
}
}
tcorrs <- sapply(list.files(directory), tcorr) #get all correlations + NULLs
tcorrs <- unlist(tcorrs[!sapply(tcorrs, is.null)]) #remove NULLs
return (tcorrs)
corr <- function(directory, threshold = 0) {
tcorr <- function(fname) {
data <- read.csv(file.path(directory, fname))
nobs <- sum(complete.cases(data))
if (nobs > threshold) {
return (cor(data$nitrate, data$sulfate, use="complete.obs"))
}
}
tcorrs <- sapply(list.files(directory), tcorr) #get all correlations + NULLs
tcorrs <- unlist(tcorrs[!sapply(tcorrs, is.null)]) #remove NULLs
return (tcorrs)
}
corrn("specdata", 150)
source('~/datasciencecoursera/corrn.R')
corrn("specdata", 150)
source('~/datasciencecoursera/corrn.R')
tcorr <- function(fname) {
data <- read.csv(file.path(directory, fname))
nobs <- sum(complete.cases(data))
if (nobs > threshold) {
return (cor(data$nitrate, data$sulfate, use="complete.obs"))
}
}
tcorrs <- sapply(list.files(directory), tcorr) #get all correlations + NULLs
tcorrs <- unlist(tcorrs[!sapply(tcorrs, is.null)]) #remove NULLs
return (tcorrs)
}
corr("specdata", 150)
cr <- sort(corr("specdata"))
set.seed(868)
out <- round(cr[sample(length(cr),5)], 4)
print(out)
cr <- sort(corr("specdata", 129))
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n,5)],4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr,4)))
cube <- function(x,n){x^3}
cube(3)
x <- 1:10
if (x>5){ x <- 0}
x
f <- function(x){
g <- function(y){
y+z
}
z <- 4
x + g(x)
}
z<-10
f(3)
z<-4
f(3)
x <- 5
y <- if(x<3){
NA}
else{
10
}
}
x <- 5
y <- if(x<3){
NA
}
else {
10
}
x <- 5
y <- if(x<3){NA}
else {10}
